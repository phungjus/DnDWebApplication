{"ast":null,"code":"var _jsxFileName = \"/Users/ko/Developer/CSC309Project/team13/phase1/src/Components/Diceroller/index.js\";\nimport React from 'react';\nimport './styles.css';\nimport Dice from '../Dice/index.js';\nimport Dicelog from '../Dicelog/index.js';\n\nclass Diceroller extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      d20: 0,\n      d12: 0,\n      d10: 0,\n      d8: 0,\n      d6: 0,\n      d4: 0,\n      clickedDice: false,\n      rolled: false,\n      rollResult: []\n    };\n\n    this.handleDicePress = event => {\n      const diceType = event.target.className;\n      const previouslyClicked = this.state.clickedDice;\n\n      if (!previouslyClicked) {\n        this.setState({\n          [diceType]: 1,\n          clickedDice: true,\n          rolled: false,\n          rollResult: []\n        });\n      } else if (previouslyClicked && this.state[diceType] !== 0) {\n        const newValue = this.state[diceType] + 1;\n        this.setState({\n          [diceType]: newValue\n        });\n      } else {\n        this.setState({\n          d20: 0,\n          d12: 0,\n          d10: 0,\n          d8: 0,\n          d6: 0,\n          d4: 0\n        });\n        this.setState({\n          [diceType]: 1\n        });\n      }\n    };\n\n    this.rolling = () => {\n      const die = [\"d20\", \"d12\", \"d10\", \"d8\", \"d6\", \"d4\"];\n      var dice;\n\n      for (dice of die) {\n        if (this.state[dice] !== 0) {\n          return {\n            numberOfRolls: this.state[dice],\n            diceToRoll: dice\n          };\n        }\n      }\n\n      return {\n        numberOfRolls: undefined,\n        diceToRoll: undefined\n      };\n    };\n\n    this.rollResult = () => {\n      const {\n        numberOfRolls,\n        diceToRoll\n      } = this.rolling();\n\n      if (numberOfRolls === undefined) {\n        return [];\n      } else {\n        var results = [];\n        var i = 0;\n\n        while (i < numberOfRolls) {\n          results.push(Math.floor(Math.random() * parseInt(diceToRoll.slice(1))) + 1);\n          i = i + 1;\n        }\n\n        return results;\n      }\n    };\n\n    this.rollResultText = () => {\n      var result;\n      var output = '';\n\n      if (this.state.rollResult === []) {\n        return \"Please select a dice to roll\";\n      } else {\n        this.state.rollResult.forEach(result => output = output.concat('You rolled a ' + result + '!\\n'));\n        return output;\n      }\n    };\n\n    this.handleRoll = () => {\n      const rollResult = this.rollResult();\n      this.setState({\n        rolled: true,\n        d20: 0,\n        d12: 0,\n        d10: 0,\n        d8: 0,\n        d6: 0,\n        d4: 0,\n        clickedDice: false,\n        rollResult: rollResult\n      });\n    };\n\n    this.outputText = () => {\n      if (!this.state.rolled) {\n        const {\n          numberOfRolls,\n          diceToRoll\n        } = this.rolling();\n\n        if (numberOfRolls !== undefined) {\n          return `Rolling ${numberOfRolls} ${diceToRoll} dice.`;\n        } else {\n          return \"Please select a dice to roll\";\n        }\n      } else {\n        return this.rollResultText();\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Diceroller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d20\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d12\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d10\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d8\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d6\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Dice, {\n      gridClass: \"d4\",\n      onClick: this.handleDicePress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"roll\",\n      onClick: this.handleRoll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }, \"ROLL\"), /*#__PURE__*/React.createElement(Dicelog, {\n      outputText: this.outputText(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Diceroller;","map":{"version":3,"sources":["/Users/ko/Developer/CSC309Project/team13/phase1/src/Components/Diceroller/index.js"],"names":["React","Dice","Dicelog","Diceroller","Component","state","d20","d12","d10","d8","d6","d4","clickedDice","rolled","rollResult","handleDicePress","event","diceType","target","className","previouslyClicked","setState","newValue","rolling","die","dice","numberOfRolls","diceToRoll","undefined","results","i","push","Math","floor","random","parseInt","slice","rollResultText","result","output","forEach","concat","handleRoll","outputText","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './styles.css';\nimport Dice from '../Dice/index.js';\nimport Dicelog from '../Dicelog/index.js';\n\n\nclass Diceroller extends React.Component {\n  \n  state = {\n    d20: 0,\n    d12: 0,\n    d10: 0,\n    d8: 0,\n    d6: 0,\n    d4: 0,\n    clickedDice: false,\n    rolled : false,\n    rollResult : []\n  }\n\n  handleDicePress = (event) => {\n    const diceType = event.target.className;\n    const previouslyClicked = this.state.clickedDice;\n\n    if (!previouslyClicked) {\n      this.setState({\n        [diceType] : 1,\n        clickedDice: true,\n        rolled: false,\n        rollResult : []\n      });\n    } else if (previouslyClicked && this.state[diceType] !== 0) {\n      const newValue = this.state[diceType] + 1;\n      this.setState({\n        [diceType] : newValue\n      });\n    } else {\n      this.setState({\n        d20: 0,\n        d12: 0,\n        d10: 0,\n        d8: 0,\n        d6: 0,\n        d4: 0\n      });\n      this.setState({\n        [diceType] : 1\n      });\n    }\n  }\n\n  rolling = () => {\n    const die = [\"d20\", \"d12\", \"d10\", \"d8\", \"d6\", \"d4\"]\n    var dice\n    for (dice of die) {\n      if (this.state[dice] !== 0) {\n        return { numberOfRolls : this.state[dice], diceToRoll : dice }\n      }\n    }\n    return { numberOfRolls : undefined, diceToRoll: undefined }\n  }\n\n  rollResult = () => {\n    const { numberOfRolls, diceToRoll } = this.rolling();\n    if (numberOfRolls === undefined) {\n      return []\n    } else {\n      var results = []\n      var i = 0;\n      while (i < numberOfRolls) {\n        results.push(Math.floor(Math.random() * parseInt(diceToRoll.slice(1))) + 1)\n        i = i + 1;\n      }\n      return results\n    }\n  }\n\n  rollResultText = () => {\n    var result;\n    var output = '';\n    if (this.state.rollResult === []) {\n      return \"Please select a dice to roll\"\n    } else {\n      this.state.rollResult.forEach( result => output = output.concat('You rolled a ' + result + '!\\n'))\n      return output\n    }\n  }\n\n  handleRoll = () => {\n    const rollResult = this.rollResult();\n    this.setState({\n      rolled: true,\n      d20: 0,\n      d12: 0,\n      d10: 0,\n      d8: 0,\n      d6: 0,\n      d4: 0,\n      clickedDice: false,\n      rollResult : rollResult\n    });\n  }\n\n  outputText = () => {\n    if(!this.state.rolled) {\n      const { numberOfRolls, diceToRoll } = this.rolling();\n      if (numberOfRolls !== undefined){\n        return `Rolling ${numberOfRolls} ${diceToRoll} dice.`\n      } else {\n        return \"Please select a dice to roll\"\n      }\n    } else {\n      return this.rollResultText();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Diceroller\">\n        <div className=\"container\">\n          <Dice\n            gridClass=\"d20\"\n            onClick={this.handleDicePress}\n          />\n          <Dice\n            gridClass=\"d12\"\n            onClick={this.handleDicePress}\n          />\n          <Dice\n            gridClass=\"d10\"\n            onClick={this.handleDicePress}\n          />\n          <Dice\n            gridClass=\"d8\"\n            onClick={this.handleDicePress}\n          />\n          <Dice\n            gridClass=\"d6\"\n            onClick={this.handleDicePress}\n          />\n          <Dice\n            gridClass=\"d4\"\n            onClick={this.handleDicePress}\n          />\n          <button className=\"roll\" onClick={this.handleRoll}>\n              ROLL\n          </button>\n          <Dicelog\n            outputText={this.outputText()}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Diceroller;"]},"metadata":{},"sourceType":"module"}